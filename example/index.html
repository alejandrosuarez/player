<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Proton Player</title>
    <script src="../dist/proton-player.umd.js"></script>
  </head>
  <body>
    <button
      id="play-track-btn"
      class="btn play-btn"
      style="width:200px; height:50px"
      disabled
    >
      Play Track
    </button>
    <button
      id="play-mix-btn"
      class="btn play-btn"
      style="width:200px; height:50px"
      disabled
    >
      Play Mix
    </button>
    <button id="stop-btn" class="btn" style="width:100px; height:50px" disabled>
      Stop
    </button>
    <script>
      const $btns = document.getElementsByClassName("btn");
      const onReady = () => {
        for (let $btn of $btns) {
          $btn.removeAttribute("disabled");
        }
      };

      const player = new ProtonPlayer(onReady);

      const $playBtns = document.getElementsByClassName("play-btn");
      for (let $btn of $playBtns) {
        $btn.onclick = function() {
          let url = "",
            fileSize = 0;
          switch (this.id) {
            case "play-track-btn":
              url =
                "http://local.protonradio.com:3003/single?fn=mp3-128%2F654292_224065_Smiley_Faces_Original_Mix_128k.mp3&md5=xNYnQEJefltj3CJO0JZ%2BQg%3D%3D&player_id=1559749150239&token=eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjozMDMyMjIsInBocGJiX3VzZXIiOnsidXNlcm5hbWUiOiJjaGFybGVzbmF2aSIsInVzZXJfYWN0aXZlIjp0cnVlLCJhdXRoZW50aWNhdGlvbl90b2tlbiI6IkJ6WWZpUU53SzdVY0g5TDNGaHBFIiwicHJvdG9uX3N1YnNjcmliZSI6dHJ1ZX0sInVzZXIiOnsiaWQiOjI4NjY4LCJhY2Nlc3NsZXZlbCI6M30sImV4cCI6MTU1OTgzNTUyNSwiaWF0IjoxNTU5NzQ5MTI1fQ.TXZOcJwgHvBdy0OQb7bSsK9nTnpMswomlafzQuARvOY";
              fileSize = 6588289;
              break;
            case "play-mix-btn":
              url =
                "http://local.protonradio.com:3003/stream?fn=1054824_Drumcode_Live_%282019-04-28%29_Part_1_-_Monika_Kruse.mp3&md5=ImL5uhIhItO6iiwjpdVnIw%3D%3D&player_id=1559749217450&token=eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjozMDMyMjIsInBocGJiX3VzZXIiOnsidXNlcm5hbWUiOiJjaGFybGVzbmF2aSIsInVzZXJfYWN0aXZlIjp0cnVlLCJhdXRoZW50aWNhdGlvbl90b2tlbiI6IkJ6WWZpUU53SzdVY0g5TDNGaHBFIiwicHJvdG9uX3N1YnNjcmliZSI6dHJ1ZX0sInVzZXIiOnsiaWQiOjI4NjY4LCJhY2Nlc3NsZXZlbCI6M30sImV4cCI6MTU1OTgzNTUyNSwiaWF0IjoxNTU5NzQ5MTI1fQ.TXZOcJwgHvBdy0OQb7bSsK9nTnpMswomlafzQuARvOY";
              fileSize = 83630497;
              break;
          }
          player.play(url, fileSize);
        };
      }

      const $disposeBtn = document.getElementById("stop-btn");
      $disposeBtn.onclick = function() {
        player.dispose();
      };
    </script>
  </body>
</html>
